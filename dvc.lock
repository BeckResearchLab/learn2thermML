schema: '2.0'
stages:
  ogt_protein_classifier_train_evaluate:
    cmd: python pipeline/ogt_protein_classifier_train_evaluate.py
    deps:
    - path: ./data/ogt_protein_classifier/data
      md5: 34a65b4a650107c8a66e6f93d25c5d1b.dir
      size: 486778288
      nfiles: 58
    - path: ./l2tml_utils/model_utils.py
      md5: a52bd6e16a4a2cbe761cdc58aae5cea0
      size: 3847
    - path: ./pipeline/ogt_protein_classifier_train_evaluate.py
      md5: 4faa7b4a73f5a66508e3102f4871a22a
      size: 13081
    params:
      params.yaml:
        ogt_protein_classifier_train_evaluate.batch_size: 200
        ogt_protein_classifier_train_evaluate.dev_overtrain_one_batch: true
        ogt_protein_classifier_train_evaluate.dropout: 0.0
        ogt_protein_classifier_train_evaluate.epochs: 5
        ogt_protein_classifier_train_evaluate.lr: 5e-05
        ogt_protein_classifier_train_evaluate.lr_scheduler: linear
        ogt_protein_classifier_train_evaluate.model: protbert
        ogt_protein_classifier_train_evaluate.n_save_per_epoch: 1
        ogt_protein_classifier_train_evaluate.protocol: finetune
    outs:
    - path: ./data/ogt_protein_classifier/dvclive/metrics.json
      md5: b254e39d4595aec6acd242a20705cb45
      size: 311
    - path: ./data/ogt_protein_classifier/dvclive/plots
      md5: 7b53f77388f15788f0d8914bb258d05b.dir
      size: 1817
      nfiles: 10
    - path: ./data/ogt_protein_classifier/dvclive/report.md
      md5: 72dafec60aefad735fe8ebeb07b0d738
      size: 1056
    - path: ./data/ogt_protein_classifier/model
      md5: 57e922258cd949dffaf02a8a22e56d4a.dir
      size: 26880220118
      nfiles: 48
    - path: ./data/ogt_protein_classifier/model_metrics.yaml
      md5: 176f35751a39e961e80eb15ce24ee68f
      size: 1456
  ogt_protein_classifier_data_prep:
    cmd: python pipeline/ogt_protein_classifier_data_prep.py
    deps:
    - path: ./data/database
      md5: 3d1fb0c6b918014c9959ebab31ca9c32
      size: 34096820224
    - path: ./l2tml_utils/data_utils.py
      md5: 37c459566103785886ffa2d02f094a7d
      size: 5836
    - path: ./pipeline/ogt_protein_classifier_data_prep.py
      md5: 6feb05ea85f3fcf89e6de2ab38a28f8c
      size: 8647
    params:
      params.yaml:
        ogt_protein_classifier_data_prep.data_batch_size: 1000
        ogt_protein_classifier_data_prep.dev_keep_columns: false
        ogt_protein_classifier_data_prep.dev_sample_init_data: false
        ogt_protein_classifier_data_prep.max_protein_len: 250
        ogt_protein_classifier_data_prep.max_upsampling: 0.0
        ogt_protein_classifier_data_prep.min_balance: 0.5
        ogt_protein_classifier_data_prep.ogt_window:
        - 35.0
        - 60.0
        ogt_protein_classifier_data_prep.split_type: random
    outs:
    - path: ./data/ogt_protein_classifier/data
      md5: 2c7b249b707cfe8b8760cbcdb99d00e3.dir
      size: 54126410
      nfiles: 8
    - path: ./data/ogt_protein_classifier/data_metrics.yaml
      md5: 9346abc80746dbeb247d695f14aed35f
      size: 96
